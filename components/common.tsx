'use client';
import React, {useState} from 'react';
import {usePathname} from 'next/navigation';
import Link from 'next/link';
import Routers from '@/data/routes';
import Image from 'next/image'
import {any} from "prop-types";


const Menus: React.FC = () => {

    const pathname: string = usePathname() || ""; // Ensure pathname is a string
    const isShowMenu: boolean = !['/dk-cloud', '/diamond-pos'].includes(pathname);
    let cIndex: number = 0;
    Routers.map((router, index) => {
         if(router.path === pathname){
             cIndex = index;
         }
    });

    const [current, setCurrent] = useState<number | 0>(cIndex);
    const [isShow, setIsShow] = useState<boolean>(false);
    const currentIndex: number = 0;
    const handleToggle = () => {
        setIsShow(!isShow);
    };
    const clickMenu = (index:number) => {
        setCurrent(index)
        setIsShow(false);
    };
    const moveMenu = (index:number) => {

    };

    return isShowMenu ? (
        <header className={'bg-slate-900'}>
            <div className={'sm:block lg:hidden'}>
                <div className={'flex items-center justify-between px-4'}>
                    <h1 className={'text-2xl text-white'}>
                        <a href={'/'}>VICA ZHUO</a>
                    </h1>
                    <div>
                        <button onClick={handleToggle}>
                            <svg className="icon w-7 hover:w-8" viewBox="0 0 1024 1024" version="1.1"
                                 xmlns="http://www.w3.org/2000/svg" width="48" height="48">
                                <path
                                    d="M384 480H192c-52.8 0-96-43.2-96-96V192c0-52.8 43.2-96 96-96h192c52.8 0 96 43.2 96 96v192c0 52.8-43.2 96-96 96zM192 160c-17.6 0-32 14.4-32 32v192c0 17.6 14.4 32 32 32h192c17.6 0 32-14.4 32-32V192c0-17.6-14.4-32-32-32H192zM832 480H640c-52.8 0-96-43.2-96-96V192c0-52.8 43.2-96 96-96h192c52.8 0 96 43.2 96 96v192c0 52.8-43.2 96-96 96zM640 160c-17.6 0-32 14.4-32 32v192c0 17.6 14.4 32 32 32h192c17.6 0 32-14.4 32-32V192c0-17.6-14.4-32-32-32H640zM384 928H192c-52.8 0-96-43.2-96-96V640c0-52.8 43.2-96 96-96h192c52.8 0 96 43.2 96 96v192c0 52.8-43.2 96-96 96zM192 608c-17.6 0-32 14.4-32 32v192c0 17.6 14.4 32 32 32h192c17.6 0 32-14.4 32-32V640c0-17.6-14.4-32-32-32H192zM832 928H640c-52.8 0-96-43.2-96-96V640c0-52.8 43.2-96 96-96h192c52.8 0 96 43.2 96 96v192c0 52.8-43.2 96-96 96zM640 608c-17.6 0-32 14.4-32 32v192c0 17.6 14.4 32 32 32h192c17.6 0 32-14.4 32-32V640c0-17.6-14.4-32-32-32H640z"
                                    fill="#ffffff"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
            <div className={`${isShow ? 'block' : 'hidden lg:block'} lg:w-[70%] lg:p-4 m-auto`}>
                <ul className={'lg:flex list-none p-2 gap-6 text-2xl relative rounded-lg'}>
                    {Routers.map((route, index) => (
                        <li
                            key={index}
                            className={'w-full text-gray-300 h-12 whitespace-nowrap relative cursor-pointer hover:text-white'}
                            onMouseOver={() => setCurrent(index)}
                            onMouseOut={() => moveMenu(index)}>
                            <Link
                                className={'absolute left-2 items-center inset-0 text-sm text-f-vis z-20 grid lg:place-content-center'}
                                href={route.path} onClick={() => clickMenu(index)}>
                                {route.label}
                            </Link>
                        </li>
                    ))}
                    <div style={{'width': `${100 / Routers.length}%`, 'transform': `translateX(${current * 100}%)`}}
                         className={'absolute hidden lg:block inset-0 z-10 transition-all duration-1000 rounded-lg bg-green-500'}/>
                </ul>
            </div>
        </header>
    ) : null;
};

const Profiles: React.FC = () => {
    return (
        <div className={'float-left bg-white mt-8 mb-10 lg:mt-0 lg:bg-gray-100 lg:w-[28%]'}>
            <section className={'p-10 mt-8'}>
                <section>
                    <Link href={'/'} className="logo">
                        <Image
                            src="https://avatars.githubusercontent.com/u/167049259?v=4"
                            data-nimg={1}
                            decoding={'async'}
                            className={'rounded-full m-auto w-20 sm:w-24 md:w-32 lg:w-44 aspect-square shadow'}
                            alt="vica zhuo"
                            width={176}
                            height={176}
                        />
                    </Link>
                    <header className={'border-b border-b-slate-400 border-opacity-30 p-4'}>
                        <h2 className={'text-1gl text-center'}>Vica Zhuo (卓尉家)</h2>
                        <p className={'mt-3  text-center'}><a href="mailto:zhuovica@gmail.com">zhuovica@gmail.com</a>
                        </p>
                    </header>
                </section>

                <section className={'pt-6'}>
                    <h2 className={'mb-3 text-1xl'}>About</h2>
                    <p className={'text-sm leading-6'}>Hi, I&apos;m Vica. I am a <a
                        className={'border border-dotted border-b-gray-500 border-opacity-65'}
                        href="https://github.com/vica2024">Full Stack Engineer</a>. Previously,
                        I was the co-founder and CTO of <a
                            className={'border border-dotted border-b-gray-500 border-opacity-65'}
                            href="https://aiqicha.baidu.com/company_detail_67644716405156" target={'_blank'}>ZHIYI</a>,
                        and worked at
                        {' '}<a className={'border border-dotted border-b-gray-500 border-opacity-65'} target={'_blank'}
                                href="https://csfa.cnadc.com.cn/">CNADC</a> and <a
                            className={'border border-dotted border-b-gray-500 border-opacity-65 hover:cursor-pointer hover:bg-gray-200 active:bg-gray-100 font-semibol'}
                            href="https://www.apm.mc/" target={'_blank'}>APM Monaco</a>.
                    </p>
                    <a href={'/about'}>
                        <div className="actions mt-5 border w-3/5 hover:bg-white text-center text-sm p-3 text-gray-500">
                            More about me
                        </div>
                    </a>
                    <div className={'flex flex-col justify-start gap-2 w-full mt-8 pt-5 border-t border-opacity-65'}>
                        <div className={'flex flex-row w-full justify-start items-center gap-4'}>
                            <a href={'https://github.com/vica2024'} target={'_blank'}
                               className={'flex items-center justify-center'}>
                                <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                                     width="16" height="16">
                                    <path
                                        d="M512 12.64c-282.752 0-512 229.216-512 512 0 226.208 146.72 418.144 350.144 485.824 25.6 4.736 35.008-11.104 35.008-24.64 0-12.192-0.48-52.544-0.704-95.328-142.464 30.976-172.512-60.416-172.512-60.416-23.296-59.168-56.832-74.912-56.832-74.912-46.464-31.776 3.52-31.136 3.52-31.136 51.392 3.616 78.464 52.768 78.464 52.768 45.664 78.272 119.776 55.648 148.992 42.56 4.576-33.088 17.856-55.68 32.512-68.48-113.728-12.928-233.28-56.864-233.28-253.024 0-55.904 20-101.568 52.768-137.44-5.312-12.896-22.848-64.96 4.96-135.488 0 0 43.008-13.76 140.832 52.48 40.832-11.36 84.64-17.024 128.16-17.248 43.488 0.192 87.328 5.888 128.256 17.248 97.728-66.24 140.64-52.48 140.64-52.48 27.872 70.528 10.336 122.592 5.024 135.488 32.832 35.84 52.704 81.536 52.704 137.44 0 196.64-119.776 239.936-233.792 252.64 18.368 15.904 34.72 47.04 34.72 94.816 0 68.512-0.608 123.648-0.608 140.512 0 13.632 9.216 29.6 35.168 24.576 203.328-67.776 349.856-259.616 349.856-485.76 0-282.784-229.248-512-512-512z"
                                        fill="#bfbfbf"></path>
                                </svg>
                            </a>
                            <a href={'https://github.com/vica2024'} target={'_blank'}
                               className={'flex items-center justify-center'}>
                                <svg className="icon" viewBox="0 0 1024 1024" version="1.1"
                                     xmlns="http://www.w3.org/2000/svg" width="16" height="16">
                                    <path
                                        d="M512 0C229.248 0 0 229.248 0 512s229.248 512 512 512 512-229.248 512-512C1024 229.184 794.752 0 512 0zM384 760 256 760l0-448 128 0L384 760zM323.968 284.544c-33.152 0-59.968-26.88-59.968-60.032 0-33.152 26.88-60.032 59.968-60.032C357.12 164.544 384 191.424 384 224.512 384 257.664 357.12 284.544 323.968 284.544zM832 760l-128 0L704 483.008c0-32.448-9.28-55.168-49.152-55.168C588.736 427.84 576 483.008 576 483.008l0 276.992L448 760l0-448 128 0 0 42.816c18.304-14.016 64-42.752 128-42.752 41.536 0 128 24.832 128 174.848L832 760z"
                                        fill="#bfbfbf"/>
                                </svg>
                            </a>
                            <a href={'https://github.com/vica2024'} target={'_blank'}
                               className={'flex items-center justify-center'}>
                                <svg className="icon" viewBox="0 0 1024 1024" version="1.1"
                                     xmlns="http://www.w3.org/2000/svg" width="16" height="16">
                                    <path
                                        d="M512.739532 1023.998464c-207.359689 0.511999-394.239409-124.415813-473.59929-315.903526-79.359881-191.487713-35.839946-411.647383 110.591835-558.079163 146.43178-146.43178 367.103449-190.463714 558.079162-110.591834 191.487713 79.359881 315.903526 266.239601 315.903527 473.599289 0 282.111577-228.351657 510.463234-510.975234 510.975234z m112.639831-738.814892l-15.871976 2.047997c-9.727985 2.047997-19.455971 5.119992-28.671957 8.703987-36.351945 15.871976-63.487905 48.127928-72.703891 86.52787-5.119992 19.96797-5.119992 40.959939 0 60.41591-19.455971 0-38.911942-2.559996-57.343914-7.679989-57.343914-12.799981-111.103833-38.911942-156.671765-76.287885-13.823979-10.751984-26.62396-23.551965-37.887943-37.375944-4.095994-4.095994-8.191988-8.703987-11.775983-13.82398-6.143991 10.751984-10.751984 22.015967-13.823979 33.279951-9.727985 41.471938 1.023998 84.991873 28.671957 117.247824 6.65599 8.191988 16.895975 13.31198 23.551965 20.479969-5.631992 1.023998-11.775982 0.511999-17.407974-1.535998-9.215986-1.535998-18.431972-4.095994-27.135959-7.679988l-13.82398-5.119993c-1.535998 45.055932 21.503968 87.551869 60.41591 110.591835 12.287982 9.215986 26.62396 14.847978 41.983937 16.895974-8.191988 7.167989-44.543933 4.095994-57.343914 2.559996 12.799981 38.911942 43.007935 69.119896 81.407878 82.431877 12.287982 4.607993 25.087962 6.65599 37.887943 6.65599-10.751984 9.215986-22.527966 16.383975-34.815948 22.527966-24.063964 13.31198-50.175925 22.527966-76.799885 28.159958-11.775982 2.559996-24.063964 2.047997-37.375944 4.095994-13.823979 1.023998-27.135959 0.511999-40.959938-1.535998l11.263983 6.65599c11.775982 7.167989 23.551965 13.31198 36.351945 18.431972 24.575963 10.239985 49.663926 18.431972 75.263887 24.575963 60.415909 12.799981 123.391815 10.751984 182.783726-6.14399 134.143799-41.983937 219.135671-140.28779 251.391623-285.183573 5.119992-27.135959 7.167989-55.295917 6.143991-82.943875l20.479969-16.895975c16.895975-14.335978 31.743952-31.231953 43.519935-50.175925-23.039965 10.239985-47.615929 16.895975-72.703891 19.96797 5.119992-2.559996 9.727985-6.143991 14.335979-10.239984 19.455971-15.871976 33.791949-36.863945 41.471937-60.41591l-15.871976 8.703987c-20.991969 11.263983-43.519935 18.431972-66.5599 22.015967-26.111961-27.647959-62.975906-42.495936-100.863849-40.447939v0.511999h-0.511999z"
                                        fill="#bfbfbf"></path>
                                </svg>
                            </a>
                            <a href={'https://github.com/vica2024'} target={'_blank'}
                               className={'flex items-center justify-center'}>
                                <svg className="icon" viewBox="0 0 1024 1024" version="1.1"
                                     xmlns="http://www.w3.org/2000/svg" width="16" height="16">
                                    <path
                                        d="M512 64c247.424 0 448 200.576 448 448S759.424 960 512 960 64 759.424 64 512 264.576 64 512 64z m4.405333 266.677333h-8.810666c-13.002667 0.042667-52.928 0.32-94.090667 1.802667l-11.594667 0.448c-37.312 1.557333-73.664 4.192-89.941333 8.650667a64.384 64.384 0 0 0-45.162667 45.706666A676.309333 676.309333 0 0 0 256 512a676.309333 676.309333 0 0 0 10.794667 124.714667 64.384 64.384 0 0 0 45.162666 45.706666c16.277333 4.458667 52.629333 7.093333 89.941334 8.650667l11.594666 0.448c41.162667 1.493333 81.088 1.76 94.090667 1.802667l4.309333 0.010666h0.192l4.309334-0.010666c13.002667-0.042667 52.928-0.32 94.090666-1.802667l11.594667-0.448c37.312-1.557333 73.664-4.192 89.941333-8.650667a64.384 64.384 0 0 0 45.162667-45.706666A676.309333 676.309333 0 0 0 768 512a676.309333 676.309333 0 0 0-10.794667-124.714667 64.384 64.384 0 0 0-45.162666-45.706666c-16.277333-4.458667-52.629333-7.093333-89.941334-8.650667l-11.594666-0.448A3121.28 3121.28 0 0 0 516.405333 330.666667zM460.8 434.282667L593.728 512 460.8 589.717333V434.282667z"
                                        fill="#bfbfbf"></path>
                                </svg>
                            </a>
                            <a href={'https://github.com/vica2024'} target={'_blank'}
                               className={'flex items-center justify-center'}>
                                <svg className="icon" viewBox="0 0 1024 1024" version="1.1"
                                     xmlns="http://www.w3.org/2000/svg" width="16" height="16">
                                    <path d="M614.4 512a102.4 102.4 0 1 1-204.8 0 102.4 102.4 0 0 1 204.8 0z"
                                          fill="#bfbfbf"></path>
                                    <path
                                        d="M636.16 261.845333c29.909333 1.408 46.165333 6.4 57.045333 10.666667 14.336 5.546667 24.576 12.202667 35.328 22.954667 10.752 10.709333 17.365333 20.949333 22.954667 35.328 4.266667 10.88 9.258667 27.093333 10.666667 57.088 1.450667 32.341333 1.706667 42.069333 1.706666 124.117333 0 82.048-0.384 91.776-1.706666 124.16-1.408 29.909333-6.4 46.165333-10.666667 57.045333a95.701333 95.701333 0 0 1-22.954667 35.328 95.701333 95.701333 0 0 1-35.328 22.954667c-10.88 4.266667-27.136 9.258667-57.088 10.666667-32.341333 1.450667-42.069333 1.706667-124.16 1.706666-82.005333 0-91.733333-0.384-124.074666-1.706666-29.994667-1.408-46.208-6.4-57.088-10.666667a95.701333 95.701333 0 0 1-35.328-22.954667 95.701333 95.701333 0 0 1-22.997334-35.328c-4.266667-10.88-9.216-27.136-10.624-57.088-1.493333-32.341333-1.706667-42.069333-1.706666-124.16 0-82.005333 0.341333-91.733333 1.706666-124.074666 1.408-29.994667 6.4-46.208 10.666667-57.088 5.546667-14.378667 12.202667-24.618667 22.954667-35.328 10.709333-10.752 20.949333-17.365333 35.328-22.997334 10.88-4.266667 27.093333-9.216 57.088-10.624 32.341333-1.493333 42.069333-1.706667 124.117333-1.706666 82.048 0 91.776 0.213333 124.16 1.706666zM354.218667 512a157.738667 157.738667 0 1 0 315.477333 0 157.738667 157.738667 0 0 0-315.477333 0z m358.656-163.968a36.821333 36.821333 0 1 1-73.685334 0 36.821333 36.821333 0 0 1 73.685334 0z"
                                        fill="#bfbfbf"></path>
                                    <path
                                        d="M1024 512c0 282.752-229.248 512-512 512S0 794.752 0 512 229.248 0 512 0s512 229.248 512 512zM310.826667 220.885333a150.613333 150.613333 0 0 0-54.442667 35.498667 150.186667 150.186667 0 0 0-35.498667 54.314667c-7.594667 19.456-12.714667 41.813333-14.208 74.538666-1.493333 32.725333-1.877333 43.221333-1.877333 126.634667s0.384 93.866667 1.877333 126.634667c1.493333 32.725333 6.741333 55.04 14.208 74.538666 7.893333 20.224 18.346667 37.333333 35.498667 54.442667a150.613333 150.613333 0 0 0 54.442667 35.456c19.456 7.637333 41.813333 12.757333 74.538666 14.250667 32.725333 1.493333 43.221333 1.877333 126.634667 1.877333s93.866667-0.384 126.634667-1.877333c32.682667-1.493333 55.04-6.741333 74.538666-14.250667a150.613333 150.613333 0 0 0 54.442667-35.413333 150.613333 150.613333 0 0 0 35.456-54.485334c7.637333-19.498667 12.757333-41.813333 14.250667-74.538666 1.493333-32.725333 1.877333-43.221333 1.877333-126.634667s-0.384-93.909333-1.877333-126.634667c-1.493333-32.725333-6.741333-55.04-14.250667-74.538666a151.381333 151.381333 0 0 0-35.328-54.314667 150.613333 150.613333 0 0 0-54.442667-35.498667c-19.498667-7.594667-41.813333-12.714667-74.581333-14.208-32.682667-1.493333-43.178667-1.877333-126.592-1.877333s-93.909333 0.384-126.634667 1.877333c-32.853333 1.365333-55.210667 6.613333-74.666666 14.208z"
                                        fill="#bfbfbf"></path>
                                </svg>

                            </a>

                        </div>
                    </div>
                </section>

                <section id="footer">

                </section>
            </section>
        </div>
    )
}

export {
    Menus,
    Profiles
};
